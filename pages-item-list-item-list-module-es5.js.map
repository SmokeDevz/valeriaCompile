{"version":3,"sources":["webpack:///src/app/pages/filter-modal/filter-modal.module.ts","webpack:///src/app/pages/filter-modal/filter-modal.page.html","webpack:///src/app/pages/filter-modal/filter-modal.page.ts","webpack:///src/app/pages/item-list/item-list.module.ts","webpack:///src/app/pages/item-list/item-list.html","webpack:///src/app/pages/item-list/item-list.ts","webpack:///src/app/utils/utils.ts"],"names":["FilterPageModule","imports","declarations","entryComponents","FilterPage","injector","itemService","brandService","categoryService","params","categories","brands","query","priceRange","lower","upper","rating","minPrice","maxPrice","minRating","maxRating","count","isFeatured","featured","isOnSale","sale","ratingMin","Number","ratingMax","priceMin","priceMax","loadData","modalCtrl","dismiss","promise1","load","promise2","cat","Promise","all","map","category","isChecked","Array","isArray","includes","id","option","name","brand","loadCount","console","log","message","event","target","className","filter","loadBrands","isLoading","sleep","toString","onDismiss","index","item","onQueryChanged","onRangeChanged","onApplyButtonTouched","selector","templateUrl","styleUrls","ItemListPageModule","forChild","path","component","ItemListPage","items","skeletonArray","page","limit","suggestions","customPopoverOptions","buildSortOptions","setupObservables","setupQueryParams","contentLoaded","loadAndScroll","content","ionScroll","getQueryParams","new","subcat","length","showLoadingView","showOverlay","getTrans","title","setPageTitle","setMetaTags","sortOptions","sortBy","sortByField","selectedSortOption","Object","assign","detail","value","onRefresh","navigateToRelative","o1","o2","refresher","setTimeout","next","push","showContentView","showEmptyView","onRefreshComplete","onContentLoaded","showErrorView","translate","get","subscribe","str","showToast","searchTerm","tag","toLowerCase","infiniteScroll","allowed","filteredParams","keys","key","reduce","obj","create","componentProps","modal","present","dismissLoadingView","onDidDismiss","data","url","router","split","navigateTo","slug","onSearch","onClearSearch","onPresentFilterModal","opacity","transform","optional","animations","static","Utils","arr","a","Math","random","sort","b","ms","resolve","array","size","chunked_arr","i","last"],"mappings":"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","file":"pages-item-list-item-list-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FilterPage } from './filter-modal.page';\nimport { SharedModule } from 'src/app/shared.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SharedModule,\n  ],\n  declarations: [FilterPage],\n  entryComponents: [FilterPage]\n})\nexport class FilterPageModule {}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar>\n    <ion-title></ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"onDismiss()\">\n        <ion-icon slot=\"start\" name=\"close\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-text-center\">\n\n  <ion-item hidden class=\"ion-margin-top\">\n    <ion-checkbox (ionChange)=\"onQueryChanged($event)\" [(ngModel)]=\"query.isFeatured\" [disabled]=\"isLoading\">\n    </ion-checkbox>\n    <ion-label class=\"ion-margin-horizontal\" color=\"medium\">\n      {{ 'FEATURED' | translate }}\n    </ion-label>\n  </ion-item>\n\n  <ion-item hidden lines=\"none\">\n    <ion-checkbox (ionChange)=\"onQueryChanged($event)\" [(ngModel)]=\"query.isOnSale\" [disabled]=\"isLoading\">\n    </ion-checkbox>\n    <ion-label class=\"ion-margin-horizontal\" color=\"medium\">\n      {{ 'ON_SALE' | translate }}\n    </ion-label>\n  </ion-item>\n\n  <div hidden>\n    <ion-text color=\"medium\">\n      <h5 class=\"text-normal bold\">\n        {{ 'RATING' | translate }}\n      </h5>\n    </ion-text>\n\n    <ion-item class=\"ion-padding-bottom\">\n      <ion-range debounce=\"1500\" color=\"dark\" step=\"1\" dualKnobs=\"true\" pin=\"true\" [min]=\"minRating\" [max]=\"maxRating\" [disabled]=\"isLoading\" [(ngModel)]=\"query.rating\" (ionChange)=\"onRangeChanged($event)\">\n      </ion-range>\n    </ion-item>\n  </div>\n\n  <div class=\"ion-margin-bottom\">\n    <ion-text color=\"medium\">\n      <h5 class=\"text-normal bold ion-no-margin\">\n        PRECIO\n      </h5>\n      <p class=\"text-medium bold\">\n        {{ query.priceRange.lower | currency:'USD':'symbol':'1.0-0' }} -\n        {{ query.priceRange.upper | currency:'USD':'symbol':'1.0-0' }}\n      </p>\n    </ion-text>\n    <ion-item class=\"ion-padding-bottom\">\n      <ion-range debounce=\"1500\" color=\"dark\" step=\"10\" dualKnobs=\"true\" pin=\"true\" [min]=\"minPrice\" [max]=\"maxPrice\" [disabled]=\"isLoading\" [(ngModel)]=\"query.priceRange\" (ionChange)=\"onRangeChanged($event)\">\n      </ion-range>\n    </ion-item>\n  </div>\n\n  <app-accordion [name]=\"'CATEGORIAS'\">\n    <ion-item *ngFor=\"let category of categories;trackBy:trackByFn\">\n      <ion-checkbox (ionChange)=\"onCategoryChanged($event)\" [(ngModel)]=\"category.isChecked\" [disabled]=\"isLoading\">\n      </ion-checkbox>\n      <ion-label class=\"ion-margin-horizontal\" color=\"medium\">\n        {{ category.name }}\n      </ion-label>\n    </ion-item>\n  </app-accordion>\n\n  <app-accordion hidden [name]=\"'BRANDS' | translate\">\n    <ion-item *ngFor=\"let brand of brands;trackBy:trackByFn\">\n      <ion-checkbox (ionChange)=\"onBrandChanged($event)\" [(ngModel)]=\"brand.isChecked\" [disabled]=\"isLoading\">\n      </ion-checkbox>\n      <ion-label class=\"ion-margin-horizontal\" color=\"medium\">\n        {{ brand.name }}\n      </ion-label>\n    </ion-item>\n  </app-accordion>\n\n</ion-content>\n\n<ion-footer class=\"ion-padding ion-text-center\">\n  <ion-button strong color=\"dark\" [disabled]=\"isLoading\" (click)=\"onApplyButtonTouched()\">\n    <span *ngIf=\"!isLoading\">\n      {{ 'SEE_THE_RESULTS' | translate }} ({{ count }})\n    </span>&nbsp;\n    <span *ngIf=\"isLoading\">\n      <ion-spinner name=\"dots\" color=\"light\"></ion-spinner>\n    </span>\n  </ion-button>\n</ion-footer>","import { Component, Injector, OnInit, Input } from '@angular/core';\nimport { Category } from '../../services/category';\nimport { BasePage } from '../base-page/base-page';\nimport { Item } from 'src/app/services/item';\nimport { Brand } from 'src/app/services/brand';\nimport Utils from 'src/app/utils/utils';\n\ninterface CheckboxOption {\n  id: string,\n  name: string,\n  isChecked: boolean;\n}\n\n@Component({\n  selector: 'app-filter',\n  templateUrl: './filter-modal.page.html',\n  styleUrls: ['./filter-modal.page.scss'],\n})\nexport class FilterPage extends BasePage implements OnInit {\n\n  @Input() params: any = {};\n\n  public categories: CheckboxOption[] = [];\n  public brands: CheckboxOption[] = [];\n\n  public query: any = {\n    priceRange: { lower: 10, upper: 10000 },\n    rating: { lower: 0, upper: 5 },\n  };\n\n  public minPrice: number = 10;\n  public maxPrice: number = 10000;\n\n  public minRating: number = 0;\n  public maxRating: number = 5;\n\n  public isLoading: boolean;\n\n  public isLoadingCategories: boolean;\n  public isLoadingBrands: boolean;\n  public isQueryChanged: boolean;\n  public isRangeChanged: boolean;\n\n  public count: number = 0;\n\n  constructor(injector: Injector,\n    private itemService: Item,\n    private brandService: Brand,\n    private categoryService: Category) {\n    super(injector);\n  }\n\n  enableMenuSwipe(): boolean {\n    return false;\n  }\n\n  ngOnInit() {\n\n    this.query.isFeatured = this.params.featured === '1' ? true : false;\n    this.query.isOnSale = this.params.sale === '1' ? true : false;\n\n    if (this.params.ratingMin) {\n      this.query.rating.lower = Number(this.params.ratingMin);\n    }\n\n    if (this.params.ratingMax) {\n      this.query.rating.upper = Number(this.params.ratingMax);\n    }\n\n    if (this.params.priceMin) {\n      this.query.priceRange.lower = Number(this.params.priceMin);\n    }\n\n    if (this.params.priceMax) {\n      this.query.priceRange.upper = Number(this.params.priceMax);\n    }\n\n    this.loadData();\n  }\n\n  onDismiss(query: any = null) {\n    this.modalCtrl.dismiss(query);\n  }\n\n  async loadData() {\n\n    try {\n      const promise1 = this.categoryService.load();\n      const promise2 = this.brandService.load({\n        categories: this.params.cat\n      });\n\n      const [categories, brands] = await Promise.all([promise1, promise2]);\n\n      this.categories = categories.map(category => {\n\n        let isChecked = false;\n\n        if (this.params.cat) {\n\n          if (Array.isArray(this.params.cat)) {\n            isChecked = this.params.cat.includes(category.id);\n          } else {\n            isChecked = this.params.cat === category.id;\n          }\n\n        }\n\n        const option: CheckboxOption = {\n          id: category.id,\n          name: category.name,\n          isChecked: isChecked,\n        };\n        return option;\n      });\n\n      this.brands = brands.map(brand => {\n\n        let isChecked = false;\n\n        if (this.params.brand) {\n\n          if (Array.isArray(this.params.brand)) {\n            isChecked = this.params.brand.includes(brand.id);\n          } else {\n            isChecked = this.params.brand === brand.id;\n          }\n\n        }\n\n        const option: CheckboxOption = {\n          id: brand.id,\n          name: brand.name,\n          isChecked: isChecked,\n        };\n        return option;\n      });\n\n      this.loadCount();\n\n    } catch (error) {\n      console.log(error.message);\n    }\n\n  }\n\n  async loadBrands(params: any = {}) {\n\n    const brands = await this.brandService.load(params);\n\n    this.brands = brands.map(brand => {\n      const option: CheckboxOption = {\n        id: brand.id,\n        name: brand.name,\n        isChecked: false\n      };\n      return option;\n    });\n  }\n\n  async onCategoryChanged(event: any = {}) {\n\n    if (event.target.className.includes('interactive')) {\n\n      const categories = this.categories\n        .filter(category => category.isChecked)\n        .map(category => category.id);\n\n      this.query.cat = categories;\n      delete this.query.brand;\n\n      this.loadBrands({ categories });\n\n      this.loadCount();\n\n    }\n\n  }\n\n  async onBrandChanged(event: any = {}) {\n\n    if (event.target.className.includes('interactive')) {\n\n      const brands = this.brands\n      .filter(brand => brand.isChecked)\n      .map(brand => brand.id);\n\n      this.query.brand = brands;\n\n      this.loadCount();\n    }\n\n  }\n\n  async onQueryChanged(event: any = {}) {\n    if (event.target.className.includes('interactive')) {\n      this.loadCount();\n    }\n  }\n\n  async onRangeChanged(event: any = {}) {\n    this.loadCount();\n  }\n\n  async loadCount() {\n    try {\n      this.isLoading = true;\n      await Utils.sleep(1500);\n      this.count = await this.itemService.count(this.query);\n      this.isLoading = false;\n    } catch (error) {\n      this.isLoading = false;\n    }\n  }\n\n  onApplyButtonTouched() {\n\n    const params: any = {};\n\n    params.featured = this.query.isFeatured ? '1' : '0';\n    params.sale = this.query.isOnSale ? '1' : '0';\n    params.ratingMin = this.query.rating.lower.toString();\n    params.ratingMax = this.query.rating.upper.toString();\n    params.priceMin = this.query.priceRange.lower.toString();\n    params.priceMax = this.query.priceRange.upper.toString();\n\n    params.cat = this.query.cat;\n    params.brand = this.query.brand;\n\n    this.onDismiss(params);\n  }\n\n  trackByFn(index: number, item: any) {\n    if (!item) return null;\n    return item.id;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { ItemListPage } from './item-list';\nimport { SharedModule } from '../../shared.module';\nimport { FilterPageModule } from '../filter-modal/filter-modal.module';\nimport { FormsModule } from '@angular/forms';\n\n@NgModule({\n  declarations: [\n    ItemListPage,\n  ],\n  imports: [\n    RouterModule.forChild([\n      {\n        path: '',\n        component: ItemListPage\n      }\n    ]),\n    SharedModule,\n    FilterPageModule,\n    FormsModule,\n  ],\n})\nexport class ItemListPageModule {}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar fixed>\n    <ion-buttons slot=\"start\">\n      <ion-back-button></ion-back-button>\n    </ion-buttons>\n    <ion-searchbar mode=\"ios\" [placeholder]=\"'SEARCH_PLACEHOLDER' | translate\" (ionInput)=\"onSearch($event)\"\n      (ionClear)=\"onClearSearch()\">\n    </ion-searchbar>\n    <ion-buttons slot=\"end\">\n      <ion-button color=\"dark\" size=\"small\" class=\"ion-text-uppercase\" (click)=\"onPresentFilterModal()\">\n        <ion-icon slot=\"start\" name=\"funnel\"></ion-icon>\n        <span class=\"text-small\">FILTRAR</span>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n\n</ion-header>\n\n<ion-content #container scrollEvents=\"true\">\n  <ion-refresher slot=\"fixed\" (ionRefresh)=\"onRefresh($event)\">\n    <ion-refresher-content pullingText=\"Desliza para actualizar\" refreshingText=\"Actualizando\">\n    </ion-refresher-content>\n  </ion-refresher>\n\n  <div slot=\"fixed\" style=\"left: 16px; right: 16px\">\n    <ion-grid class=\"relative\" fixed *ngIf=\"suggestions.length\">\n      <ion-list lines=\"none\" class=\"ion-no-margin\" class=\"shadow autocomplete\" *ngIf=\"suggestions.length\"\n        [@staggerIn]=\"suggestions.length\">\n        <ion-item class=\"hover\" button detail=\"false\" style=\"--min-height: 70px;\"\n          *ngFor=\"let suggestion of suggestions;trackBy:trackByFn\" (click)=\"this.suggestions = [];\"\n          [routerLink]=\"['./' + suggestion.slug]\">\n          <ion-label>\n            <ion-text color=\"dark\">\n              <span class=\"link bold text-medium\">\n                {{ suggestion.name }}\n              </span>\n            </ion-text>\n          </ion-label>\n        </ion-item>\n      </ion-list>\n    </ion-grid>\n  </div>\n\n  <ion-grid fixed>\n\n    <empty-view *ngIf=\"isErrorViewVisible\" icon=\"alert-circle-outline\" [text]=\"'ERROR_DATA' | translate\">\n    </empty-view>\n\n    <empty-view *ngIf=\"isEmptyViewVisible\" image=\"./assets/imgs/price-tag.svg\" imageWidth=\"150\"\n      [text]=\"'EMPTY_DATA' | translate\">\n    </empty-view>\n\n    <div class=\"custom-select ion-margin-vertical\" *ngIf=\"isContentViewVisible\">\n      <ion-item lines=\"none\">\n        <ion-label>\n          <ion-text class=\"bold\" color=\"medium\">\n            ORDENAR\n          </ion-text>\n        </ion-label>\n\n        <ion-select [(ngModel)]=\"selectedSortOption\" (ionChange)=\"onSortOptionTouched($event)\"\n          [compareWith]=\"compareSortOption\" [interfaceOptions]=\"customPopoverOptions\" interface=\"popover\">\n          <ion-select-option [value]=\"option\" *ngFor=\"let option of sortOptions\">\n            {{ (option.sortByField + '_' + option.sortBy) | uppercase | translate }}\n          </ion-select-option>\n        </ion-select>\n      </ion-item>\n    </div>\n\n    <ion-list [@staggerIn]=\"items.length\" *ngIf=\"isContentViewVisible\">\n      <ion-row>\n        <ion-col size-xs=\"6\" size-sm=\"4\" size-md=\"4\" size-lg=\"3\" *ngFor=\"let item of items;trackBy:trackByFn\">\n          <app-shop-item [item]=\"item\" [customObservable]=\"loadAndScroll\" (click)=\"onItemTouched(item)\">\n          </app-shop-item>\n        </ion-col>\n      </ion-row>\n      <ion-infinite-scroll (ionInfinite)=\"onLoadMore($event)\">\n        <ion-infinite-scroll-content></ion-infinite-scroll-content>\n      </ion-infinite-scroll>\n    </ion-list>\n\n    <ion-row *ngIf=\"isLoadingViewVisible\" class=\"ion-justify-content-center\">\n      <ion-col class=\"ion-text-center\" size-xs=\"6\" size-sm=\"4\" size-md=\"4\" size-lg=\"3\"\n        *ngFor=\"let item of skeletonArray\">\n        <ngx-skeleton-loader count=\"1\" appearance=\"circle\"\n          [theme]=\"{ width: '100%', height: '240px', 'border-radius': '0' }\">\n        </ngx-skeleton-loader>\n      </ion-col>\n    </ion-row>\n\n  </ion-grid>\n\n</ion-content>","import { Component, Injector, ViewChild } from '@angular/core';\nimport { IonContent } from '@ionic/angular';\nimport { Item } from '../../services/item';\nimport { BasePage } from '../base-page/base-page';\nimport { SubCategory } from '../../services/sub-category';\nimport { Category } from '../../services/category';\nimport { Subject, Observable, merge } from 'rxjs';\nimport { FilterPage } from '../filter-modal/filter-modal.page';\nimport {\n  trigger,\n  style,\n  animate,\n  transition,\n  query,\n  stagger\n} from '@angular/animations';\n\n@Component({\n  selector: 'page-item-list',\n  templateUrl: 'item-list.html',\n  styleUrls: ['item-list.scss'],\n  animations: [\n    trigger('staggerIn', [\n      transition('* => *', [\n        query(':enter', style({ opacity: 0, transform: `translate3d(0,10px,0)` }), { optional: true }),\n        query(':enter', stagger('100ms', [animate('300ms', style({ opacity: 1, transform: `translate3d(0,0,0)` }))]), { optional: true })\n      ])\n    ])\n  ]\n})\nexport class ItemListPage extends BasePage {\n\n  @ViewChild(IonContent, { static: true }) content: IonContent;\n\n  public items: Item[] = [];\n  public skeletonArray = Array(32);\n  public params: any = {\n    page: 0,\n    limit: 20\n  };\n\n  public suggestions: Item[] = [];\n\n  public loadAndScroll: Observable<any>;\n  protected contentLoaded: Subject<any>;\n\n  protected category: Category;\n  protected subcategory: SubCategory;\n  protected searchText: string;\n\n  public customPopoverOptions: any = {};\n\n  public sortOptions: Array<any>;\n  public selectedSortOption: any;\n\n  constructor(injector: Injector, private itemService: Item) {\n    super(injector);\n  }\n\n  ngOnInit() {\n    this.buildSortOptions();\n    this.setupObservables();\n    this.setupQueryParams();\n  }\n\n  setupObservables() {\n\n    this.contentLoaded = new Subject();\n\n    this.loadAndScroll = merge(\n      this.content.ionScroll,\n      this.contentLoaded\n    );\n\n  }\n\n  setupQueryParams() {\n    this.params.sale = this.getQueryParams().sale;\n    this.params.new = this.getQueryParams().new;\n    this.params.featured = this.getQueryParams().featured;\n    this.params.ratingMin = this.getQueryParams().ratingMin;\n    this.params.ratingMax = this.getQueryParams().ratingMax;\n    this.params.priceMin = this.getQueryParams().priceMin;\n    this.params.priceMax = this.getQueryParams().priceMax;\n\n    this.params.cat = this.getQueryParams().cat;\n    this.params.subcat = this.getQueryParams().subcat;\n    this.params.brand = this.getQueryParams().brand;\n  }\n\n  enableMenuSwipe(): boolean {\n    return false;\n  }\n\n  async ionViewDidEnter() {\n\n    if (!this.items.length) {\n      this.showLoadingView({ showOverlay: false });\n      this.loadData();\n    }\n\n    const title = await this.getTrans('ITEMS');\n    this.setPageTitle(title);\n\n    this.setMetaTags({\n      title: title\n    });\n  }\n\n  buildSortOptions() {\n\n    this.sortOptions = [{\n      sortBy: 'desc', sortByField: 'createdAt',\n    }, {\n      sortBy: 'asc', sortByField: 'netPrice',\n    }, {\n      sortBy: 'desc', sortByField: 'netPrice',\n    }]\n\n    const sortBy = this.getQueryParams().sortBy;\n    const sortByField = this.getQueryParams().sortByField;\n\n    if (sortBy && sortByField) {\n      this.selectedSortOption = { sortBy, sortByField };\n    } else {\n      this.selectedSortOption = this.sortOptions[0];\n    }\n  }\n\n  onSortOptionTouched(event: any = {}) {\n\n    const option = Object.assign({}, event.detail.value);\n    delete option.id;\n\n    this.params = {\n      ...this.params,\n      ...option\n    };\n\n    this.onRefresh();\n\n    this.navigateToRelative('.', option);\n  }\n\n  compareSortOption(o1: any, o2: any) {\n    return o1 && o2 ? (o1.sortBy === o2.sortBy && o1.sortByField === o2.sortByField) : o1 === o2;\n  };\n\n  onRefresh(event: any = {}) {\n    this.refresher = event.target;\n    this.items = [];\n    this.params.page = 0;\n    this.loadData();\n  }\n\n  onContentLoaded() {\n    setTimeout(() => {\n      this.contentLoaded.next();\n    }, 400);\n  }\n\n  async loadData() {\n\n    try {\n      let items = await this.itemService.load(this.params);\n\n      for (const item of items) {\n        this.items.push(item);\n      }\n\n      if (this.items.length) {\n        this.showContentView();\n      } else {\n        this.showEmptyView();\n      }\n\n      this.onRefreshComplete(items);\n      this.onContentLoaded();\n\n    } catch (error) {\n\n      if (this.items.length) {\n        this.showContentView();\n      } else {\n        this.showErrorView();\n      }\n\n      this.onRefreshComplete();\n      this.translate.get('ERROR_NETWORK').subscribe((str) => this.showToast(str));\n    }\n\n  }\n\n  async onSearch(event: any = {}) {\n\n    const searchTerm = event.target.value;\n\n    if (searchTerm) {\n\n      try {\n        this.suggestions = await this.itemService.load({\n          tag: searchTerm.toLowerCase(),\n          limit: 10,\n        });\n      } catch (error) {\n        console.log(error.message);\n      }\n\n    }\n\n  }\n\n  async onClearSearch() {\n    this.suggestions = [];\n  }\n\n  onLoadMore(event: any = {}) {\n    this.infiniteScroll = event.target;\n    this.params.page++;\n    this.loadData();\n  }\n\n  async onPresentFilterModal() {\n\n    await this.showLoadingView({ showOverlay: true });\n\n    const params = Object.assign({}, this.params);\n\n    const allowed = [\n      'sale',\n      'featured',\n      'ratingMin',\n      'ratingMax',\n      'priceMin',\n      'priceMax',\n      'cat',\n      'brand',\n    ];\n\n    const filteredParams = Object.keys(params)\n      .filter(key => allowed.includes(key))\n      .reduce((obj, key) => {\n        obj[key] = params[key]\n        return obj\n      }, {});\n\n    const modal = await this.modalCtrl.create({\n      component: FilterPage,\n      componentProps: { params: filteredParams }\n    });\n\n    await modal.present();\n\n    this.dismissLoadingView();\n\n    const { data } = await modal.onDidDismiss();\n\n    if (data) {\n\n      const params = {\n        ...this.params,\n        ...data\n      };\n\n      this.params = params;\n\n      this.showLoadingView({ showOverlay: false });\n      this.onRefresh();\n\n      this.navigateToRelative('.', data)\n    }\n  }\n\n  onItemTouched(item: Item) {\n\n    // for some reason the relative navigation isn't working\n    // after updating the query params in the filter modal\n    // so absolute nav is the workaround for now...\n\n    // Get current url without params\n    const url = this.router.url.split('?')[0];\n\n    this.navigateTo(url + '/' + item.slug);\n  }\n\n  trackByFn(index: number, item: any) {\n    if (!item) return null;\n    return item.id;\n  }\n\n}\n","export default class Utils {\n\n  public static shuffle(arr: any[]) {\n    return arr.map((a) => [Math.random(), a]).sort((a, b) => a[0] - b[0]).map((a) => a[1]);\n  }\n\n  public static sleep(ms: number) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  public static chunk(array: any[], size: number) {\n    const chunked_arr = [];\n    for (let i = 0; i < array.length; i++) {\n      const last = chunked_arr[chunked_arr.length - 1];\n      if (!last || last.length === size) {\n        chunked_arr.push([array[i]]);\n      } else {\n        last.push(array[i]);\n      }\n    }\n    return chunked_arr;\n  }\n}"]}